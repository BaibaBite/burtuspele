<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burtu spēle mazajiem</title>
</head>
<body>
    <div class="page">
        <div class="Header">
            <h1 class="header-title">Burto</h1>
            <h2 class="header-subtitle">Burtu spēle mazajiem</h2>
        </div>
        <div class="nav">
            <button class="nav-link" onclick="atvertSadalu('sakums')">SĀKUMS</button>
            <button class="nav-link" onclick="atvertSadalu('noteikumi')">NOTEIKUMI</button>
            <button class="nav-link" onclick="atvertSadalu('spele')">SPĒLE</button>
            <button class="nav-link" onclick="atvertSadalu('top')">TOP</button>
        </div><!--Beidzas galvene un navigācijas pogas-->
        
        <div id="sakums" class="content nodala">
            <div class="content-title">
                <h1>LAIPNI LŪGTI!</h1>
            </div>
            <div class="content-text">
                <p>NOSKAIDRO, CIK LABI TU ZINI BURTUS!</p>
                <p>SPIED "SĀKT SPĒLI!", LAI PĀRBAUDĪTU SAVAS ZINĀŠANAS</p>
            </div>
            <div id="poga-sakt"><button class="nav-link" onclick="atvertSadalu('spele')">SĀKT SPĒLI!</button></div>
        </div><!--lapas satura beigas-->
        
        <div id="noteikumi" class="content nodala">
            <div class="content-title">
                <h1>NOTEIKUMI</h1>
            </div>
            <div class="content-text">
                <p>NOSKAIDRO, CIK LABI TU ZINI BURTUS!</p>
                <p>SAKĀRTO BURTUS PAREIZĀ SECĪBĀ, LAI IEGŪTU ATTĒLĀ REDZAMĀS LIETAS NOSAUKUMU.</p>
                <p>PAR KATRU PAREIZU VĀRDU 10 PUNKTI.</p>
            </div>
        </div>
        
        <div id="spele" class="content nodala">
            <div class="content-title">
                <h1>CIK DAUDZ VĀRDU TU VARĒSI UZMINĒT?</h1>
                <p>IZVĒLIES BURTU SKAITU: </p>
                <input type="number" min="3" max="10" id="cik" value="3">
            </div>
            <div class="burtu-koferis">
                <div class="score">
                    REZULTĀTS
                    <h2 class="score-1">25</h2>
                </div>
                <div class="mistake">
                    KĻŪDAS
                    <h2 class="mistake-1">25</h2>
                </div>
                <p class="viltigs">VĀRDS:</p>
                <input type="text" class="tukss" id="tukss">
                <button class="uzmini">SĀKT</button>
                <!-- <span class="pazinojums piezime-viens">LŪDZU IERAKSTI ATBILDI!</span>
                <span class="pazinojums piezime-divi">AK VAI! NEPAREIZA ATBILDE. MĒĢINI VĒLREIZ!</span>
                <span class="pazinojums piezime-tris">SUPER! ŠĪ IR PAREIZĀ ATBILDE!</span> -->
                <div id="bilde"></div>
                <!-- <img class="padoms-att" id="bilde" src="newImage"> -->
                <!-- <input type="submit" class="padoms" value="PADOMS?"> -->
            </div>
        </div>
        <div id="end" class="content nodala">
            <div class="content-title">
                <h1>TU ZAUDĒJI!</h1>
                <p class="zaud">TAVS REZULTĀTS IR: </p>
            </div>
        </div>
        <div id="top" class="content nodala">
            <div class="content-title">
                <h1>TOP 10</h1>
            </div>
            <div class="content-text">
                <p>šEIT BŪS REDZAMS TOP 10 SPĒLĒTĀJU SARAKSTS</p>
            </div>
        </div>
        
        <div class="Footer">
            <h1 class="footer-title">SPĒLES AUTORS: BAIBA BITE</h1>
            <h2 class="footer-subtitle">START IT 2021 KURSI</h2>
        </div>
    </div>
    <script>
        //f-cija, kas pēc navigācijas pogas nospiešanas atver atbilstošo klasi un paslēpj pārējās
        function atvertSadalu(sadalasID) {
          var i;
          var x = document.getElementsByClassName("nodala");
          for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";  //visiem uzliek stilu neredzams
          }
          document.getElementById(sadalasID).style.display = "block";  //blokam ar attiecīgo id nosaukumu nomaina stilu uz redzams 
        }
        
        //sākas spēles loga JavaScript
        const inital=document.querySelector('.viltigs');//start - izvada spēles logā tekstu un ģenerēto vārdu
        const guess=document.querySelector('.tukss');//input
        const btn=document.querySelector('.uzmini');//btn - poga, lai apstiprinātu darbības
        // const hintBtn=document.querySelector('.padoms');
        const zaudT=document.querySelector('.zaud');//spēles beigu loga tekst - parāda punktu skaitu
        let score=document.querySelector('.score-1');//attēlo iegūto punktu skaitu
        let mistake=document.querySelector('.mistake-1');//attēlo pieļauto kļūdu skaitu
        const bilde=document.querySelector('#bilde');//bildes vieta html
        score.innerHTML=0;//nonullēts rezultāts un kļūdas html dokumentā
        mistake.innerHTML=0;
        let sc=0;//skaita punktus
        let m=0;//skaita kļūdas
        let end="";
        let game=false;
        let newV="";//nejauši izvēlēts masīva vārds
        let randomV="";//masīva vārds ar sajauktiem burtiem
        let newImage="";//nejauši izvēlētā masīva vārda atbilstošais attēls
        let n;//mainīgais burtu skaitam - paņem no lietotāja ievadītā input lauka
        let wordsN=[];//mazais masīvs, kurā atlasīti vārdi, kas atbilst lietotāja ievadītajam burtu skaitam
        let number;//mainīgais, kuram createWord piešķir nejauši izvēlētu mazā masīva indeksu

        //vārdu masīvs
        const words=[
                    {title: "ASTOŅKĀJIS", img: "atteli/A.png"},
                    {title: "ĀBOLS", img: "atteli/ā.jpg"},
                    {title: "BALONS", img: "atteli/b.png"},
                    {title: "CĀLIS", img: "atteli/c.png"},
                    {title: "ČIEKURS", img: "atteli/č.jpg"},
                    {title: "DINOZAURS", img: "atteli/d.png"},
                    {title: "EZIS", img: "atteli/e.jpg"},
                    {title: "ĒRGLIS", img: "atteli/ē.png"},
                    {title: "FORMULA", img: "atteli/f.png"},
                    {title: "GLIEMEZIS", img: "atteli/g.png"},
                    {title: "ĢITĀRA", img: "atteli/ģ.png"},
                    {title: "HAIZIVS", img: "atteli/h.png"},
                    {title: "IRBE", img: "atteli/i.png"},
                    {title: "ĪKŠĶIS", img: "atteli/ī.png"},
                    {title: "JŪRNIEKS", img: "atteli/j.jpg"},
                    {title: "KROKODILS", img: "atteli/k.png"},
                    {title: "ĶIRZAKA", img: "atteli/ķ.jpg"},
                    {title: "LAPSA", img: "atteli/l.png"},
                    {title: "ĻAUNDARIS", img: "atteli/ļ.png"},
                    {title: "MOTOCIKLS", img: "atteli/m.png"},
                    {title: "NĪLZIRGS", img: "atteli/n.jpg"},
                    {title: "ŅAUDULIS", img: "atteli/ņ.png"},
                    {title: "ODS", img: "atteli/o.png"},
                    {title: "PŪĶIS", img: "atteli/p.png"},
                    {title: "RITENS", img: "atteli/r.png"},
                    {title: "SAULE", img: "atteli/s.png"},
                    {title: "ŠOKOLĀDE", img: "atteli/š.png"},
                    {title: "TĪĢERIS", img: "atteli/t.png"},
                    {title: "UGUNS", img: "atteli/u.png"},
                    {title: "ŪSAS", img: "atteli/ū.png"},
                    {title: "VALIS", img: "atteli/v.png"},
                    {title: "ZĀBAKS", img: "atteli/z.png"},
                    {title: "ŽURKA", img: "atteli/ž.png"}
                ];
        //pēc nejaušības principa izvēlas no mazā masīva vārdu un attēlu
        const createWord=()=>{
            number=Math.floor(Math.random()*wordsN.length);//mainīgajam number piešķir nejauši izvēlētu mazā masīva indeksu
            let random=wordsN[number].title;//izveidots lokālais mainīgais random, kuram pieškirta mazā masīva title vērtība
            newImage=wordsN[number].img;//globālam mainīgajam pieškirta mazā masīva img vērtība
            console.log(random);
            console.log(newImage);
            return random;
        }
        //sajauc burtus izvēlētajā vārdā
        const jumbkeWord=(el)=>{
            for (let i=el.length - 1; i >=0; i--){//sākot no beigām iet caur random vārds (newV) burtiem
                let temp = el[i];//veido masīvu no random vārda burtiem
                let j=Math.floor(Math.random()*(i+1));//nejauši izvēlēts skaitlis, kas nepārsniedz vārda garumu
                el[i]=el[j];//samaina vietām - aizstāj burta sākotmējo indeksu ar nejauši izvēlēto
                el[j]=temp;
            }
            return el.join("");//apvieno visus masīva burtus
        }
        //no lielā masīva (words) atlasa vārdus, kuru garums atbilst spēlētāja ievadītajam burtu skaitam
        function limenis(){
            wordsN=[]; //izveido mazo masīvu
            for (let i=0; i<words.length; i++){//iet caur masīvu words

                if (words[i].title.length==n){//ja words ieraksta garums vienāds ar lietotāja ievadīto burtu skaitu
                    wordsN.push(words[i]);//ievieto mazajā masīvā no lielā masīva

                }
            }
        }
        //kas notiek, kad nospiesta poga "Sākt"
        btn.addEventListener('click', function(){
            if (!game){
                game=true;
                n=document.getElementById("cik").value;//no input loga nolasa burtu skaitu
                console.log(n);
                limenis();//f-cija limenis izveido mazo masīvu ar vārdiem, kuru garums atbilst lietotjāja ievadītajam
                console.log(wordsN[0]);
                btn.textContent="MINĒT";//nomaina pogas teikstu no Sākt uz Minēt
                document.getElementById("tukss").value="";//iztukšo input loga saturu
                newV=createWord();//mainīgajam newV tiek pēc nejaušības principa izvēlēts vārds
                randomV=jumbkeWord(newV.split(""));//sajauc mainīgā newV piešķirtā vārda burtu secību
                console.log(randomV);
                console.log(newImage);
                inital.innerHTML='SAKĀRTO BURTUS <br/>'+ randomV;//aizstāj html <p class="vitigs"> tekstu ar sajaukto vārdu
                bilde.innerHTML='<img class="padoms-att" src="' +newImage+ '">';//blokā <div class="bilde"> ievieto randoma attēlu
                bilde.style.display="block";//parāda attēlu
                }

                else{
                    let inputWord=guess.value.toUpperCase();//mainīgajam inputWord pieškir lietotāja ievadīto vārdu. Pārvērš simbolus lielajos burtos
                    if (inputWord==newV){ //ja lietotāja ievadītais vārds vienāds ar nejauši izvēlēto vārdu
                        console.log('correct');
                        game=false;
                        inital.innerHTML='SUPER! ' +newV+ ' IR PAREIZĀ ATBILDE.';//html <p class="vitigs"> izvada tekstu, ka pareizi
                        sc+=10;// pieskaita 10 punktus rezultātam
                        score.innerHTML=sc;//html tekstā aizvieto veco rezultātu ar jauno




                        //izdzēš no wordsN masīva number ar splice 
                        
                        //     !!!!!!! P A P I L D I N Ā T ! ! !  !

            
            
            
            
                        bilde.style.display="none";//paslēpj bildi
                        btn.innerHTML="TURPINĀT";//nomaina pogas tekstu
                        
                    }
                    else{//ja lietotāja ievadītais vārds un nejauši izvēlētais nesakrīt
                        console.log('Nepariezi');
                        inital.innerHTML="MĒĢINI VĒLREIZ! " +randomV;//html <p class="vitigs"> izvada tekstu, ka jāmēģina vēlreiz
                        document.getElementById("tukss").value="";//izdzēš input loga saturu
                        btn.innerHTML='Vēlreiz';//nomaina pogas saturu
                        guess.value="";//nodzēš lietotāja iepriekš ievadīto vārdu
                        m+=1;//pieskaita 1 punktu pie kļūdām
                        mistake.innerHTML=m;//html tekstā aizvieto veco kļudu skaitu ar jauno
                        if (m==3){//ja kļūdu skaits vienāds ar 3
                            console.log('ZAUDĒJI');
                            end=atvertSadalu('end');//atver bloku beigas un paslēpj spēles logu
                            zaudT.innerHTML='TAVS REZULTĀTS IR: <br/>'+ sc;//beigu logā parāda iegūto punktu skaitu

                        }
                    }

                }
        })
        //     newWord:"",
        //     newImage:"",
        //     viltigsVards:"",
        //     gameContinue: true,
        //     answered:[] //atlasa atrisinātos vārdus

        //     },
        //     methods:{
        //     getRandomWord()
        //     {
        //         if(this.allWords.length>0)//nosacījums pārtrauks darboties, kad visi vārdi būs atminēti
        //         {
        //             let n=Math.floor(Math.random()*this.allWords.length);//pēc nejaušības principa ģenerē skaitli, lai izvēlētos vārdu no masīva
                    
        //             this.newWord=this.allWords[n].title;// nejauši izvēlētā masīva indeksa vārds
        //             this.newImage=this.allWords[n].img;// nejauši izvēlētā masīva indeksa attēls

        //             this.allWords.splice(n,1);// noņem izvēlēto vārdu no apgabala, lai tas spēles laikā neatkārtojas

        //             this.viltigsVards=this.scramble(this.newWord.split(""));//pārvērš nejauši izvēlētā indeksa vārdu par burtu masīvu un izpilda burtu secības sajaukšanas f-ciju


        //         }
        //         else
        //         {
        //             this.gameContinue=false;//Aptur spēli līdzko visi vārdi ir atrisināti
        //         }
        //     },
        //     scramble(arr)
        //     {
        //         let viltigs=arr.sort();//sajauc burtus
        //             viltigs=viltigs.reverse();//apgriež burtu pozīcijas
        //         return viltigs.join("");//izvada apvienoto vārdu simbolu virkni

        //     }
        // },
        // created()
        // {
        //     this.getRandomWord();
        // }
        // });
    </script>
</body>
</html>