<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burtu spēle mazajiem</title>
</head>
<body>
    <div class="page">
        <div class="Header">
            <h1 class="header-title">Burto</h1>
            <h2 class="header-subtitle">Burtu spēle mazajiem</h2>
        </div>
        <div class="nav">
            <button class="nav-link" onclick="atvertSadalu('sakums')">SĀKUMS</button>
            <button class="nav-link" onclick="atvertSadalu('noteikumi')">NOTEIKUMI</button>
            <button class="nav-link" onclick="atvertSadalu('spele')">SPĒLE</button>
            <button class="nav-link" onclick="atvertSadalu('top')">TOP</button>
        </div><!--Beidzas galvene un navigācijas pogas-->
        
        <div id="sakums" class="content nodala">
            <div class="content-title">
                <h1>LAIPNI LŪGTI!</h1>
            </div>
            <div class="content-text">
                <p>NOSKAIDRO, CIK LABI TU ZINI BURTUS!</p>
                <p>SPIED "SĀKT SPĒLI!", LAI PĀRBAUDĪTU SAVAS ZINĀŠANAS</p>
            </div>
            <div id="poga-sakt"><button class="nav-link" onclick="atvertSadalu('spele')">SĀKT SPĒLI!</button></div>
        </div><!--lapas satura beigas-->
        
        <div id="noteikumi" class="content nodala">
            <div class="content-title">
                <h1>NOTEIKUMI</h1>
            </div>
            <div class="content-text">
                <p>NOSKAIDRO, CIK LABI TU ZINI BURTUS!</p>
                <p>SAKĀRTO BURTUS PAREIZĀ SECĪBĀ, LAI IEGŪTU ATTĒLĀ REDZAMĀS LIETAS NOSAUKUMU.</p>
                <p>PAR KATRU PAREIZU VĀRDU 10 PUNKTI.</p>
            </div>
        </div>
        
        <div id="spele" class="content nodala">
            <div class="content-title">
                <h1>CIK DAUDZ VĀRDU TU VARĒSI UZMINĒT?</h1>
                <p>IZVĒLIES BURTU SKAITU: </p>
                <input type="number" min="3" max="10" id="cik" value="3">
            </div>
            <div class="burtu-koferis">
                <div class="score">
                    REZULTĀTS
                    <h2 class="score-1">25</h2>
                </div>
                <div class="mistake">
                    KĻŪDAS
                    <h2 class="mistake-1">25</h2>
                </div>
                <p class="viltigs">VĀRDS:</p>
                <input type="text" class="tukss" id="tukss">
                <button class="uzmini">SĀKT</button>
                <!-- <span class="pazinojums piezime-viens">LŪDZU IERAKSTI ATBILDI!</span>
                <span class="pazinojums piezime-divi">AK VAI! NEPAREIZA ATBILDE. MĒĢINI VĒLREIZ!</span>
                <span class="pazinojums piezime-tris">SUPER! ŠĪ IR PAREIZĀ ATBILDE!</span> -->
                <div id="bilde"></div>
                <!-- <img class="padoms-att" id="bilde" src="newImage"> -->
                <!-- <input type="submit" class="padoms" value="PADOMS?"> -->
            </div>
        </div>
        <div id="end" class="content nodala">
            <div class="content-title">
                <h1>TU ZAUDĒJI!</h1>
                <p class="zaud">TAVS REZULTĀTS IR: </p>
            </div>
        </div>
        <div id="top" class="content nodala">
            <div class="content-title">
                <h1>TOP 10</h1>
            </div>
            <div class="content-text">
                <p>šEIT BŪS REDZAMS TOP 10 SPĒLĒTĀJU SARAKSTS</p>
            </div>
        </div>
        
        <div class="Footer">
            <h1 class="footer-title">SPĒLES AUTORS: BAIBA BITE</h1>
            <h2 class="footer-subtitle">START IT 2021 KURSI</h2>
        </div>
    </div>
    <script>
        //f-cija, kas pēc navigācijas pogas nospiešanas atver atbilstošo klasi un paslēpj pārējās
        function atvertSadalu(sadalasID) {
          var i;
          var x = document.getElementsByClassName("nodala");
          for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";  
          }
          document.getElementById(sadalasID).style.display = "block";  
        }
        
        //sākas spēles loga JavaScript
        const inital=document.querySelector('.viltigs');//start - izvada spēles logā tekstu un ģenerēto vārdu
        const guess=document.querySelector('.tukss');//input
        const btn=document.querySelector('.uzmini');//btn - poga, lai apstiprinātu darbības
        const hintBtn=document.querySelector('.padoms');
        const zaudT=document.querySelector('.zaud');
        let score=document.querySelector('.score-1');
        let mistake=document.querySelector('.mistake-1');
        const bilde=document.querySelector('#bilde');
        score.innerHTML=0;
        mistake.innerHTML=0;
        let sc=0;
        let m=0;//skaita kļūdas
        let end="";
        let game=false;
        let newV="";
        let randomV="";
        let newImage="";
        let n;//mainīgais burtu skaitam - paņem no input
        let wordsN=[];
        let number;

        //vārdu masīvs
        const words=[
                    {title: "ASTOŅKĀJIS", img: "atteli/A.png"},
                    {title: "ĀBOLS", img: "atteli/ā.jpg"},
                    {title: "BALONS", img: "atteli/b.png"},
                    {title: "CĀLIS", img: "atteli/c.png"},
                    {title: "ČIEKURS", img: "atteli/č.jpg"},
                    {title: "DINOZAURS", img: "atteli/d.png"},
                    {title: "EZIS", img: "atteli/e.jpg"},
                    {title: "ĒRGLIS", img: "atteli/ē.png"},
                    {title: "FORMULA", img: "atteli/f.png"},
                    {title: "GLIEMEZIS", img: "atteli/g.png"},
                    {title: "ĢITĀRA", img: "atteli/ģ.png"},
                    {title: "HAIZIVS", img: "atteli/h.png"},
                    {title: "IRBE", img: "atteli/i.png"},
                    {title: "ĪKŠĶIS", img: "atteli/ī.png"},
                    {title: "JŪRNIEKS", img: "atteli/j.jpg"},
                    {title: "KROKODILS", img: "atteli/k.png"},
                    {title: "ĶIRZAKA", img: "atteli/ķ.jpg"},
                    {title: "LAPSA", img: "atteli/l.png"},
                    {title: "ĻAUNDARIS", img: "atteli/ļ.png"},
                    {title: "MOTOCIKLS", img: "atteli/m.png"},
                    {title: "NĪLZIRGS", img: "atteli/n.jpg"},
                    {title: "ŅAUDULIS", img: "atteli/ņ.png"},
                    {title: "ODS", img: "atteli/o.png"},
                    {title: "PŪĶIS", img: "atteli/p.png"},
                    {title: "RITENS", img: "atteli/r.png"},
                    {title: "SAULE", img: "atteli/s.png"},
                    {title: "ŠOKOLĀDE", img: "atteli/š.png"},
                    {title: "TĪĢERIS", img: "atteli/t.png"},
                    {title: "UGUNS", img: "atteli/u.png"},
                    {title: "ŪSAS", img: "atteli/ū.png"},
                    {title: "VALIS", img: "atteli/v.png"},
                    {title: "ZĀBAKS", img: "atteli/z.png"},
                    {title: "ŽURKA", img: "atteli/ž.png"}
                ];
        //būs jāpārveido aizstājot words masīvu ar mazo masīvu
        const createWord=()=>{
            number=Math.floor(Math.random()*wordsN.length);
            let random=wordsN[number].title;
            newImage=wordsN[number].img;
            console.log(random);
            console.log(newImage);
            return random;
        }

        const jumbkeWord=(el)=>{
            for (let i=el.length - 1; i >=0; i--){
                let temp = el[i];
                let j=Math.floor(Math.random()*(i+1));
                el[i]=el[j];
                el[j]=temp;
            }
            return el.join("");
        }
        function limenis(){
            wordsN=[];
            for (let i=0; i<words.length; i++){

                if (words[i].title.length==n){
                    wordsN.push(words[i]);

                }
            }
        }

        btn.addEventListener('click', function(){
            if (!game){
                game=true;
                n=document.getElementById("cik").value;
                console.log(n);
                // inital.style.color="darkred";
                limenis();
                console.log(wordsN[0]);
                btn.textContent="MINĒT";
                // guess.classList.toggle('tukss');
                document.getElementById("tukss").value="";
                newV=createWord();
                randomV=jumbkeWord(newV.split(""));
                console.log(randomV);
                console.log(newImage);
                inital.innerHTML='SAKĀRTO BURTUS <br/>'+ randomV;
                bilde.innerHTML='<img class="padoms-att" src="' +newImage+ '">';
                bilde.style.display="block";
                }

                else{
                    let inputWord=guess.value.toUpperCase();
                    if (inputWord==newV){
                        console.log('correct');
                        game=false;
                        inital.innerHTML='SUPER! ' +newV+ ' IR PAREIZĀ ATBILDE.';
                        // inital.style.color='darkviolet';
                        sc+=10;
                        score.innerHTML=sc;
                        //izdzēš no wordsN masīva number ar splice
                        bilde.style.display="none";
                        btn.innerHTML="TURPINĀT";
                        
                    }
                    else{
                        console.log('Nepariezi');
                        inital.innerHTML="MĒĢINI VĒLREIZ! " +randomV;
                        // inital.style.color='red';
                        document.getElementById("tukss").value="";
                        btn.innerHTML='Vēlreiz';
                        guess.value="";
                        m+=1;
                        mistake.innerHTML=m;
                        // guess.classList.toggle('tukss');
                        if (m==3){
                            console.log('ZAUDĒJI');
                            end=atvertSadalu('end');
                            zaudT.innerHTML='TAVS REZULTĀTS IR: <br/>'+ sc;

                        }
                    }

                }
        })
        //     newWord:"",
        //     newImage:"",
        //     viltigsVards:"",
        //     gameContinue: true,
        //     answered:[] //atlasa atrisinātos vārdus

        //     },
        //     methods:{
        //     getRandomWord()
        //     {
        //         if(this.allWords.length>0)//nosacījums pārtrauks darboties, kad visi vārdi būs atminēti
        //         {
        //             let n=Math.floor(Math.random()*this.allWords.length);//pēc nejaušības principa ģenerē skaitli, lai izvēlētos vārdu no masīva
                    
        //             this.newWord=this.allWords[n].title;// nejauši izvēlētā masīva indeksa vārds
        //             this.newImage=this.allWords[n].img;// nejauši izvēlētā masīva indeksa attēls

        //             this.allWords.splice(n,1);// noņem izvēlēto vārdu no apgabala, lai tas spēles laikā neatkārtojas

        //             this.viltigsVards=this.scramble(this.newWord.split(""));//pārvērš nejauši izvēlētā indeksa vārdu par burtu masīvu un izpilda burtu secības sajaukšanas f-ciju


        //         }
        //         else
        //         {
        //             this.gameContinue=false;//Aptur spēli līdzko visi vārdi ir atrisināti
        //         }
        //     },
        //     scramble(arr)
        //     {
        //         let viltigs=arr.sort();//sajauc burtus
        //             viltigs=viltigs.reverse();//apgriež burtu pozīcijas
        //         return viltigs.join("");//izvada apvienoto vārdu simbolu virkni

        //     }
        // },
        // created()
        // {
        //     this.getRandomWord();
        // }
        // });
    </script>
</body>
</html>